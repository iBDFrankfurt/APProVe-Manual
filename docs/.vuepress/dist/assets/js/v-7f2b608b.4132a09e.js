"use strict";(self.webpackChunkuct_manual_service_v2=self.webpackChunkuct_manual_service_v2||[]).push([[9466],{1950:(e,a,n)=>{n.r(a),n.d(a,{data:()=>i});const i=JSON.parse('{"key":"v-7f2b608b","path":"/install/install.html","title":"Installation","lang":"de-DE","frontmatter":{"title":"Installation","icon":"shell","order":0,"author":"Timo Schneider","date":"2023-02-14T00:00:00.000Z","category":["Develop"],"tag":["install","setup"],"sticky":false,"star":false,"footer":"Entwickelt von der interdisziplinären Biomaterial- und Datenbank Frankfurt (iBDF)","copyright":false,"toc":false},"headers":[{"level":2,"title":"Lieferumfang","slug":"lieferumfang","link":"#lieferumfang","children":[{"level":3,"title":"generate_env.sh (optional)","slug":"generate-env-sh-optional","link":"#generate-env-sh-optional","children":[]},{"level":3,"title":"generate_nginx_conf (optional)","slug":"generate-nginx-conf-optional","link":"#generate-nginx-conf-optional","children":[]},{"level":3,"title":"install.sh (mandatory)","slug":"install-sh-mandatory","link":"#install-sh-mandatory","children":[]}]},{"level":2,"title":"APProVe Installation","slug":"approve-installation","link":"#approve-installation","children":[]},{"level":2,"title":"Data Persistence and Backup","slug":"data-persistence-and-backup","link":"#data-persistence-and-backup","children":[]},{"level":2,"title":"Abschließende Schritte","slug":"abschließende-schritte","link":"#abschließende-schritte","children":[]}],"git":{"createdTime":1699871456000,"updatedTime":1699871456000,"contributors":[{"name":"jaqueline.patzek@kgu.de","email":"jaqueline.patzek@kgu.de","commits":1}]},"readingTime":{"minutes":1.93,"words":578},"filePathRelative":"install/install.md","localizedDate":"14. Februar 2023","excerpt":"<p>Sind alle <a href=\\"https://backend.demo.ibdf-frankfurt.de/manual/install/requirements.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Systemvoraussetzungen</a> erfüllt, so kann mit der Installation von APProVe begonnen werden.</p>\\n<h2> Lieferumfang</h2>\\n<p>We have developed a set of useful scripts to simplify the deployment of APProVe on a server.\\nThese scripts facilitate the creation of a .env file and the generation of NGINX configuration files.\\nFollowing that, the install.sh script takes care of the APProVe installation and initiates its operation for you.</p>"}')},9803:(e,a,n)=>{n.r(a),n.d(a,{default:()=>o});var i=n(6252);const t={href:"https://backend.demo.ibdf-frankfurt.de/manual/install/requirements.html",target:"_blank",rel:"noopener noreferrer"},s=(0,i.uE)('<h2 id="lieferumfang" tabindex="-1"><a class="header-anchor" href="#lieferumfang" aria-hidden="true">#</a> Lieferumfang</h2><p>We have developed a set of useful scripts to simplify the deployment of APProVe on a server. These scripts facilitate the creation of a .env file and the generation of NGINX configuration files. Following that, the install.sh script takes care of the APProVe installation and initiates its operation for you.</p><p>We offer three scripts, although only one of them is mandatory:</p><h3 id="generate-env-sh-optional" tabindex="-1"><a class="header-anchor" href="#generate-env-sh-optional" aria-hidden="true">#</a> generate_env.sh (optional)</h3><p>This script takes the content from the <code>.env.tmp</code> file and transfers it into a new <code>.env</code> file. Subsequently, you can enter essential information about your APProVe instance, such as the Realm name and the domain on which APProVe will operate. The final step involves populating the newly generated <code>.env</code> file with your input.</p><h3 id="generate-nginx-conf-optional" tabindex="-1"><a class="header-anchor" href="#generate-nginx-conf-optional" aria-hidden="true">#</a> generate_nginx_conf (optional)</h3><p>This script is designed to create NGINX configuration files based on the details in the <code>.env</code> file. Furthermore, it deposits these files in the <code>/etc/nginx/sites-available</code> directory and establishes symbolic links in the <code>/etc/nginx/sites-enabled</code> folder. It generates three files, one for each subdomain. Please note that you will need to provide the SSL certificates on your own. We highly recommend utilizing Certbot for this purpose, like so:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> certbot <span class="token parameter variable">--nginx</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="install-sh-mandatory" tabindex="-1"><a class="header-anchor" href="#install-sh-mandatory" aria-hidden="true">#</a> install.sh (mandatory)</h3><p>This script carries out the installation of your APProVe instance in accordance with the information in your <code>.env</code> file. It also configures Keycloak with a Client as specified in your <code>.env</code> file. Furthermore, it adds an admin user to both APProVe and Keycloak. The default username and password for APProVe are as follows:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Username: approve-admin\nPassword: approve-password\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>The default username and password for Keycloak are as follows:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Username: adminuser\nPassword: adminpass\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="approve-installation" tabindex="-1"><a class="header-anchor" href="#approve-installation" aria-hidden="true">#</a> APProVe Installation</h2><p>To set up APProVe on your server, follow these steps:</p><ol><li>Begin by downloading this repository or manually transferring the following files to your server:</li></ol><ul><li>.env.tmp</li><li>docker-compose.yml</li><li>generate_env.sh</li><li>generate_nginx_conf.sh</li><li>install.sh</li></ul><ol start="2"><li>Execute the scripts in the following order to streamline the APProVe installation process:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">bash</span> generate_env.sh\n\n<span class="token function">bash</span> generate_nginx_conf.sh\n\ncertbot <span class="token parameter variable">--nginx</span>\n\ninstall.sh\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Should any issues or errors arise during this process, please don&#39;t hesitate to reach out to us for assistance.</p><h2 id="data-persistence-and-backup" tabindex="-1"><a class="header-anchor" href="#data-persistence-and-backup" aria-hidden="true">#</a> Data Persistence and Backup</h2><p>Within the <code>docker-compose.yml</code> file, you&#39;ll find two named volumes that serve as a means of data persistence.</p><p>In case you wish to create manual backups of the databases, please be aware that there are essentially three separate databases:</p><ol><li>Keycloak database (PostgreSQL)</li><li>APProVe database (PostgreSQL)</li><li>Additional data, such as comments or mail records, are stored in MongoDB (MongoDB).</li></ol><p>To simplify the backup process, we have developed a script named <code>backup.sh.</code> Be sure to adjust the script&#39;s variables to align with the settings in your <code>.env</code> file.</p><h2 id="abschließende-schritte" tabindex="-1"><a class="header-anchor" href="#abschließende-schritte" aria-hidden="true">#</a> Abschließende Schritte</h2>',26),r={href:"https://backend.demo.ibdf-frankfurt.de/manual/install/setup.html",target:"_blank",rel:"noopener noreferrer"},l={},o=(0,n(3744).Z)(l,[["render",function(e,a){const n=(0,i.up)("ExternalLinkIcon");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("p",null,[(0,i.Uk)("Sind alle "),(0,i._)("a",t,[(0,i.Uk)("Systemvoraussetzungen"),(0,i.Wm)(n)]),(0,i.Uk)(" erfüllt, so kann mit der Installation von APProVe begonnen werden.")]),s,(0,i._)("p",null,[(0,i.Uk)("Bevor APProVe in Betrieb genommen werden kann, müssen weitere Schritte nach der Installation erfolgen. Diese werden im nachfolgenden "),(0,i._)("a",r,[(0,i.Uk)("Kapitel: Einrichtung & Inbetriebnahme"),(0,i.Wm)(n)]),(0,i.Uk)(" näher erläutert.")])])}]])},3744:(e,a)=>{a.Z=(e,a)=>{const n=e.__vccOpts||e;for(const[e,i]of a)n[e]=i;return n}}}]);